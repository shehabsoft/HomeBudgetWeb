<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:icecore="http://www.icefaces.org/icefaces/core"
	xmlns:ace="http://www.icefaces.org/icefaces/components"
	xmlns:ice="http://www.icesoft.com/icefaces/component">
	<h:head>
			<link rel="stylesheet" type="text/css"
			href="../xmlhttp/css/rime/rime.css" />
			<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link rel='stylesheet' type='text/css'
			href='../resources/css/showcase_style.css' />
			<link rel='stylesheet' type='text/css'
			href='../resources/css/table.css' />
			    <meta charset="utf-8" />
    <link rel="icon" type="image/png" href="assets/img/favicon.ico" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Home Budget by Shehab eldin tarek</title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />
    <!-- Bootstrap core CSS     -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Animation library for notifications   -->
    <link href="assets/css/animate.min.css" rel="stylesheet" />
    <!--  Light Bootstrap Table core CSS    -->
    <link href="assets/css/light-bootstrap-dashboard.css" rel="stylesheet" />
    <!--  CSS for Demo Purpose, don't include it in your project     -->
    <link href="assets/css/demo.css" rel="stylesheet" />

    <link href="assets/css/pe-icon-7-stroke.css" rel="stylesheet" />

<script src="assets/js/jquery-1.10.2.js" type="text/javascript"></script>
<script src="assets/js/bootstrap.min.js" type="text/javascript"></script>

    <style>
  
    </style>
    <script type="text/javascript">
	$(document).ready(function(){
		 document.getElementById("successMessage").style.display="none";
		 document.getElementById("errorMessage").style.display="none";
		 document.getElementById('error').style.display="none";
	});
</script>
    <script>
    function validateEnglishName(englishValue,ID)
	{
		
		var text=englishValue.value;
	    var arregex =/^[-_ a-zA-Z0-9]+$/;
	   if(arregex.test(text))
		   {
		   document.getElementById(ID).innerHTML="";
		   return true;
		   }else
			{
			  document.getElementById('error').style.display="block";
			 document.getElementById(ID).innerHTML="You Should Enter English Name  Description ";
		    return false;
			 }
		
	
		
		
	}
    function ValidateEmailPattern(email)
    {
    	var text=email.value;
    	var arregex = /\S+@\S+\.\S+/;
    	if(arregex.test(text))
		   {
    		 document.getElementById('emailMessage').innerHTML="";
  		   return true;
		   }else
			   {
			   document.getElementById('emailMessage').innerHTML="You Should Enter Valid Email  ";
			   document.getElementById('error').style.display="block";
			   return false;
			   }
    	
    	
    }
    function validateEmail(data,status)
    {
    	 switch(data.status) {
    	  case "begin":
         	 $("#ckeckMail").modal('show');
         	 
              break;
          case "complete":
              break;
          case "success":
        	  setTimeout(closeWaiting, 3000);
    	 }
    	
    }
function validatePassword()
{

	   
}
function validateNumber(number,ID)
{
	var numberValue=number.value;
	var arregex =/^(\+91-|\+91|0)?\d{10}$/;
	if(arregex.test(numberValue))
	   {
		 document.getElementById(ID).innerHTML="";
		  return true;
	   }else
		   {
		 document.getElementById(ID).innerHTML="Invalid Mobile Number Pattern ";
		 document.getElementById('error').style.display="block";
		   return false;
		   }
	
}




	function validate(data,status)
	{
	
		
		
		 switch(data.status) {
         case "begin":
        	 $("#myModal").modal('show');
        	 
             break;
         case "complete":
             break;
         case "success":
        	 if("block"==document.getElementById("errorMessage").style.display)
             {
        		 
             }else if("block"==document.getElementById("error").style.display)
             {
            	 document.getElementById('error').innerHTML="Please Solve Problems Before Submit";
             }
             else
            	 {
        	 document.getElementById("successMessage").style.display="block";
            	 }
        	 setTimeout(alertFunc, 3000);
        	 break;
         case "serverError":
        	 document.getElementById("successMessage").style.display="none";
        	 document.getElementById("errorMessage").style.display="block";
        	 showError(data.errorMessage);
        	 break;
        
		
		 }
	
    
    
	}

 function closeWaiting()
 {
	 $("#ckeckMail").modal('hide');
 }

 function alertFunc() {
	 document.getElementById("successMessage").style.display="none";
	 document.getElementById("errorMessage").style.display="none";
	 $("#myModal").modal('hide');
 }
 function showError(error)
 {
	 document.getElementById("successMessage").style.display="none";
	 document.getElementById('errorMessage').innerHTML=""+error;
	 setTimeout(alertFunc, 5000);
 }
    
    </script>
  
    
	</h:head>
	
	
	<h:body>
			<div class="wrapper">
			 <div class="content">
            <div class="container-fluid">
				<form class="form-horizontal">
			<fieldset>
			
			<!-- Form Name -->
			<legend>Sign Up In Smart Home Budget</legend>
		<h:form name="signUp">
			<!-- Text input-->
			<div class="form-group">
			  <label class="col-md-4 control-label" for="Name">Name</label>  
			  <div class="col-md-5">
			  <h:inputText id="userName" name="Name" type="text" onblur="validateEnglishName(this,'englishMessage')" class="form-control input-md"  requiredMessage="dsfdffdgdfg"   required="true"  value="#{userView.name}"></h:inputText>
			    <div class="col-md-8" id="englishMessage"  style="color:red" > </div> 
			     
			  </div>
			</div>
			<div class="form-group">
			  <label class="col-md-4 control-label" for="Name">Email</label>  
			  <div class="col-md-4">
			  <h:inputText id="Email" name="Email" type="text" onblur="ValidateEmailPattern(this)"    class="form-control input-md" required="true"  value="#{userView.email}"></h:inputText>
			    <div class="col-md-8" id="emailMessage"  style="color:red" ></div> 
			    </div>
			    <div class="col-md-3">     
			     <h:panelGroup id="emailMessage" class="col-md-7" >
		 			<h:outputFormat style="color:red" value="#{userView.emailExitMessage}"></h:outputFormat>	
		 			</h:panelGroup>		
				<h:commandButton value="Check Mail"  type="submit"  class="btn btn-info btn-fill pull-right" actionListener="#{userView.checkEmail}" 
																							style="width:150px"  > 
					<f:ajax event="action" execute="Email" render="emailMessage" onclick=""
		 				 onevent="function(data) {validateEmail(data,'success')}" onerror="function(data) {  validateEmail(data,'failure')}" /> 
		 		 </h:commandButton> 
		 			
			  </div>
			</div>
			<!-- Password input-->
			<div class="form-group">
			  <label class="col-md-4 control-label" for="passwordinput">Password</label>
			  <div class="col-md-5">
			    <h:inputSecret id="passwordinput"  required="true " name="passwordinput" type="password" placeholder="" class="form-control input-md" value="#{userView.password}" />
			    <span class="help-block">max 16 characters</span>
			  </div>
			</div>
			
			<!-- Password input-->
			<div class="form-group">
			  <label class="col-md-4 control-label" for="confirm_password">Confirm Password</label>
			  <div class="col-md-5">
			    <h:inputSecret id="confirm_password" name="confirm_password" required="true" onblur="validatePassword()"  type="password" placeholder="Re-type password" class="form-control input-md" value="#{userView.rePassword}"/>
			     <div class="col-md-8" id="passwordMessage"  style="color:red" ></div> 
			  </div>
			</div>
			
			<!-- Multiple Radios (inline) -->
			<div class="form-group">
			  <label class="col-md-4 control-label" for="gender">Gender</label>
			  <div class="col-md-5"> 
			    
			      <h:selectOneRadio type="radio" name="gender"  required="true"  id="gender" value="#{userView.genderId}" >
			      
			         	<f:selectItem itemValue="1" itemLabel="Male" />
				   	    <f:selectItem itemValue="2" itemLabel="Female" />
				   
   				</h:selectOneRadio>
			   
			   
			  </div>
			  
			</div>
				<div class="form-group">
			  <label class="col-md-4 control-label" for="gender">Status</label>
			  <div class="col-md-5"> 
			    
			      <h:selectOneRadio type="radio" name="status"   required="true" id="status" value="#{userView.statusId}" >
			      
			         	<f:selectItem itemValue="1" itemLabel="Single" />
				   	    <f:selectItem itemValue="2" itemLabel="Married" />
				   
   				</h:selectOneRadio>
			   
			   
			  </div>
			</div>
			
			<!-- Textarea -->
			<div class="form-group">
			  <label class="col-md-4 control-label" for="address">Address</label>
			  <div class="col-md-4">                     
			<div class="col-md-10">
               <h:inputText type="text" class="form-control" required="true" onblur="validateEnglishName(this,'addressMessage')" id="address" value="#{userView.address}"/>
             <div class="col-md-8" id="addressMessage"  style="color:red" ></div> 
      </div>
			  </div>
			</div>
		
			<!-- Select Basic -->
			<div class="form-group">
			  <label class="col-md-4 control-label" for="country">Country</label>
			  <div class="col-md-5">
			    <h:selectOneMenu id="countryId" class="form-control" value="#{userView.countryId}">
   														<f:selectItems value="#{userView.countryList}" var="n" 
   														
   														itemLabel="#{n.englishName}" itemValue="#{n.id}"
   														/>
   				</h:selectOneMenu>
			  </div>
			</div>
			
			<!-- Text input-->
			<div class="form-group">
			  <label class="col-md-4 control-label" for="mobilenumber">Mobile Number</label>  
			  <div class="col-md-5">
			  <h:inputText id="mobilenumber" name="mobilenumber"   onblur="validateNumber(this,'mobileMessage')"  required="true" type="text" placeholder="Mobile Number" class="form-control input-md" value="#{userView.mobile_number}"/>
			     <div class="col-md-8" id="mobileMessage"  style="color:red" ></div> 
			  </div>
			</div>
				<div class="form-group">
			  <label class="col-md-4 control-label" for="mobilenumber">Prefered Currency ($)</label>  
			  <div class="col-md-5">
			 <label ></label>
                                                	<h:selectOneMenu  value="#{userView.currencyId}" class="form-control col-md-9" id="currencyId" required="true">
											   			<f:selectItems value="#{userView.currencyList}"  var="n"
   															itemLabel="#{n.name}" itemValue="#{n.id}"/>
											   		</h:selectOneMenu>
			  </div>
			</div>
		
		
			
			<!-- Prepended checkbox -->
			<div class="col-md-5">
                                            <div class="form-group">
                                            
												<h:commandButton value="Sign Up"  type="submit"  class="btn btn-info btn-fill pull-right" actionListener="#{userView.add}" 
																							style="width:150px"  > 
												                    <f:ajax event="action" execute="currencyId mobilenumber countryId address status gender passwordinput Email userName" render="currencyId mobilenumber countryId address status gender passwordinput Email userName" onclick=""
		 										                            onevent="function(data) { validate(data,'success')}" onerror="function(data) {  validate(data,'failure')}" /> 
		 										  </h:commandButton> 
		 								
		 										  </div>
		 										  
		 						</div>
<div id="myModal" class="modal fade " >
    <div class="modal-dialog ">
        <div class="modal-content alert alert-info alert-with-icon">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">Waiting.....</h4>
            </div>
            <div class="modal-body">
         
    
      
				
                <div id="wait" style=""><img src='assets/img/3.gif'  /><img src='assets/img/3.gif'  /><img src='assets/img/3.gif'  /><img src='assets/img/3.gif'  /><img src='assets/img/3.gif'  /></div>
                <div class="alert alert-success" id="successMessage" style="display:none">
                
                	 <div id="error" >Please Solve Errors Before Submit</div>	
                  <span><b> Success - </b> Registeration Done Successfully "</span>
                    </div>
                    <div class="alert alert-danger" id="errorMessage">
                                    <button type="button" aria-hidden="true" class="close">×</button>
                                    <span id="Error"><b> Danger - </b> There is an Error</span>
                                </div>
            </div>
        </div>
    </div>
</div>
<div id="ckeckMail" class="modal fade " >
    <div class="modal-dialog ">
        <div class="modal-content alert alert-info alert-with-icon">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title">Waiting.....</h4>
            </div>
            <div class="modal-body">
         
    
      
				<p>You Can Wait..............</p>
                <div id="wait" style=""><img src='assets/img/3.gif'  /><img src='assets/img/3.gif'  /><img src='assets/img/3.gif'  /><img src='assets/img/3.gif'  /><img src='assets/img/3.gif'  /></div>
           
            </div>
        </div>
    </div>
</div>
			</h:form>
			</fieldset>
			</form>
			</div>
			</div>
			</div>
			</h:body>
</html>